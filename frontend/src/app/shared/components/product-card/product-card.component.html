<div class="product-card" *ngIf="product" (click)="navigate()" [class.is-light]="isLight">
  <div class="product-card-favorite" *ngIf="isLoggedIn && !isLight" (click)="updateFavorite()">
    <span *ngIf="!product.isInFavorite">
      <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M8 14.3628C7.7693 14.3628 7.54605 14.333 7.36 14.266C4.51721 13.2912 0 9.8307 0 4.71814C0 2.11349 2.10605 0 4.69581 0C5.95349 0 7.1293 0.491163 8 1.3693C8.8707 0.491163 10.0465 0 11.3042 0C13.894 0 16 2.12093 16 4.71814C16 9.83814 11.4828 13.2912 8.64 14.266C8.45395 14.333 8.2307 14.3628 8 14.3628ZM4.69581 1.11628C2.72372 1.11628 1.11628 2.73116 1.11628 4.71814C1.11628 9.80093 6.00558 12.6288 7.72465 13.2167C7.8586 13.2614 8.14884 13.2614 8.28279 13.2167C9.99442 12.6288 14.8912 9.80837 14.8912 4.71814C14.8912 2.73116 13.2837 1.11628 11.3116 1.11628C10.1805 1.11628 9.13116 1.64465 8.45395 2.56C8.24558 2.84279 7.7693 2.84279 7.56093 2.56C6.86884 1.63721 5.82698 1.11628 4.69581 1.11628Z"
        fill="#6CAC72"/>
    </svg>
    </span>
    <span *ngIf="product.isInFavorite">
   <svg width="16" height="15" viewBox="0 0 16 15" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path
        d="M8 14.3628C7.7693 14.3628 7.54605 14.333 7.36 14.266C4.51721 13.2912 0 9.8307 0 4.71814C0 2.11349 2.10605 0 4.69581 0C5.95349 0 7.1293 0.491163 8 1.3693C8.8707 0.491163 10.0465 0 11.3042 0C13.894 0 16 2.12093 16 4.71814C16 9.83814 11.4828 13.2912 8.64 14.266C8.45395 14.333 8.2307 14.3628 8 14.3628Z"
        fill="#6CAC72"/>
    </svg>
    </span>
  </div>

  <div class="product-card-image" style="background-image: url({{serverStaticPath + product.image}})"></div>
  <div class="product-card-name">{{product.name}}</div>
  <div class="product-card-info" *ngIf="!isLight">
    <div class="product-card-price">{{product.price}} BYN</div>
    <div class="product-card-action">
      <button class="button" *ngIf="!countInCart" (click)="addToCart()">В корзину</button>
      <button class="button button-transparent button-in-cart" *ngIf="countInCart" (click)="removeFromCart()">
        <span>В корзине</span>
        <span>Удалить</span>
      </button>
    </div>
  </div>
  <div class="product-card-extra" *ngIf="!isLight">
    <count-selector [count]="count" (onCountChange)="updateCount($event)"></count-selector>

    <a [routerLink]="'/products/' + product.url" class="product-card-detail">
      <svg width="18" height="4" viewBox="0 0 18 4" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="2.66699" cy="2" r="2" fill="#9AA89B"/>
        <circle cx="9.33398" cy="2" r="2" fill="#9AA89B"/>
        <circle cx="16" cy="2" r="2" fill="#9AA89B"/>
      </svg>
      <span>Подробнее</span>
    </a>
  </div>
</div>
